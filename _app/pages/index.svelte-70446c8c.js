import{M as s,S as t,i as a,s as e,e as o,j as r,k as n,c as l,a as c,m as i,n as h,d as f,b as p,f as d,o as u,E as m,x as g,u as v,v as $,t as E,g as b,h as x,w as k,G as y,r as w}from"../chunks/vendor-01c5e7d8.js";import{g as I}from"../chunks/sanity-9631d4e7.js";import{a as j,P as A}from"../chunks/post-list-item-5ac9a4fd.js";const H=s`{
	"introduction" : *[_type == "whoami" ] {
		role,
		description
	}[0],
	"latest_posts": ${j}[0...3] | order(_createdAt asc)
}`;function K(s,t,a){const e=s.slice();return e[3]=t[a],e}function N(s){let t,a,e,E,b;return a=new A({props:{post:s[3],small:!0}}),{c(){t=o("a"),r(a.$$.fragment),e=n(),this.h()},l(s){t=l(s,"A",{"sveltekit:prefetch":!0,href:!0});var o=c(t);i(a.$$.fragment,o),e=h(o),o.forEach(f),this.h()},h(){p(t,"sveltekit:prefetch",""),p(t,"href",E=`blog/${s[3].slug}`)},m(s,o){d(s,t,o),u(a,t,null),m(t,e),b=!0},p(s,e){const o={};1&e&&(o.post=s[3]),a.$set(o),(!b||1&e&&E!==(E=`blog/${s[3].slug}`))&&p(t,"href",E)},i(s){b||(g(a.$$.fragment,s),b=!0)},o(s){v(a.$$.fragment,s),b=!1},d(s){s&&f(t),$(a)}}}function S(s){let t,a,e,r,i,u,$,I,j,A,H,S,_,L,P,V,B,C,O=s[0],T=[];for(let o=0;o<O.length;o+=1)T[o]=N(K(s,O,o));const z=s=>v(T[s],1,1,(()=>{T[s]=null}));return{c(){t=o("div"),a=o("section"),e=o("h1"),r=E("Hei, I'm Anh-Kha Vo and on the web I go by "),i=o("span"),u=E("Kharann ðŸ‘‹"),$=n(),I=o("byline"),j=E(s[1]),A=n(),H=o("p"),S=E(s[2]),_=n(),L=o("section"),P=o("h2"),V=E("Latest posts"),B=n();for(let s=0;s<T.length;s+=1)T[s].c();this.h()},l(o){t=l(o,"DIV",{class:!0});var n=c(t);a=l(n,"SECTION",{class:!0});var p=c(a);e=l(p,"H1",{class:!0});var d=c(e);r=b(d,"Hei, I'm Anh-Kha Vo and on the web I go by "),i=l(d,"SPAN",{class:!0});var m=c(i);u=b(m,"Kharann ðŸ‘‹"),m.forEach(f),d.forEach(f),$=h(p),I=l(p,"BYLINE",{class:!0});var g=c(I);j=b(g,s[1]),g.forEach(f),A=h(p),H=l(p,"P",{class:!0});var v=c(H);S=b(v,s[2]),v.forEach(f),p.forEach(f),_=h(n),L=l(n,"SECTION",{class:!0});var E=c(L);P=l(E,"H2",{class:!0});var x=c(P);V=b(x,"Latest posts"),x.forEach(f),B=h(E);for(let s=0;s<T.length;s+=1)T[s].l(E);E.forEach(f),n.forEach(f),this.h()},h(){p(i,"class","name svelte-1lzy46"),p(e,"class","text-3xl mb-2"),p(I,"class","text-lg text-gray"),p(H,"class","mt-4"),p(a,"class","mt-4"),p(P,"class","text-2xl font-bold text-accent"),p(L,"class","mt-8"),p(t,"class","p-4")},m(s,o){d(s,t,o),m(t,a),m(a,e),m(e,r),m(e,i),m(i,u),m(a,$),m(a,I),m(I,j),m(a,A),m(a,H),m(H,S),m(t,_),m(t,L),m(L,P),m(P,V),m(L,B);for(let t=0;t<T.length;t+=1)T[t].m(L,null);C=!0},p(s,[t]){if((!C||2&t)&&x(j,s[1]),(!C||4&t)&&x(S,s[2]),1&t){let a;for(O=s[0],a=0;a<O.length;a+=1){const e=K(s,O,a);T[a]?(T[a].p(e,t),g(T[a],1)):(T[a]=N(e),T[a].c(),g(T[a],1),T[a].m(L,null))}for(w(),a=O.length;a<T.length;a+=1)z(a);k()}},i(s){if(!C){for(let s=0;s<O.length;s+=1)g(T[s]);C=!0}},o(s){T=T.filter(Boolean);for(let t=0;t<T.length;t+=1)v(T[t]);C=!1},d(s){s&&f(t),y(T,s)}}}const _=async({fetch:s})=>{const t=await(async(s,t)=>{const a=I(H,t),e=await s(a);return{data:(await e.json()).result,status:e.status,ok:e.ok}})(s);if(t.ok)return{props:{posts:t.data.latest_posts,role:t.data.introduction.role,description:t.data.introduction.description}}};function L(s,t,a){let{posts:e}=t,{role:o}=t,{description:r}=t;return s.$$set=s=>{"posts"in s&&a(0,e=s.posts),"role"in s&&a(1,o=s.role),"description"in s&&a(2,r=s.description)},[e,o,r]}class P extends t{constructor(s){super(),a(this,s,L,S,e,{posts:0,role:1,description:2})}}export{P as default,_ as load};
